{"ast":null,"code":"var _jsxFileName = \"/home/user/projects/node/live_03/quickstart-react/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport mondaySdk from \"monday-sdk-js\";\nimport \"monday-ui-react-core/dist/main.css\"; //Explore more Monday React Components here: https://style.monday.com/\n\nimport { Dropdown, Button, AttentionBox } from \"monday-ui-react-core\";\nimport { ThumbsUp, Alert } from \"monday-ui-react-core/icons\"; // Usage of mondaySDK example, for more information visit here: https://developer.monday.com/apps/docs/introduction-to-the-sdk/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst monday = mondaySdk();\n\nconst Popup = props => {\n  function mockOnClose() {\n    props.hideMessage();\n  }\n\n  ; //AttentionBox.types.DANGER\n\n  const iconType = Alert;\n  if (props.popupIcon === \"ThumbsUp\") iconType = ThumbsUp;\n  return props.showMessage && /*#__PURE__*/_jsxDEV(AttentionBox, {\n    className: \"monday-storybook-attention-box_box\",\n    text: props.message,\n    title: props.title,\n    type: props.popupType,\n    onClose: mockOnClose,\n    icon: iconType\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 7\n  }, this);\n};\n\n_c = Popup;\n\nconst App = () => {\n  _s();\n\n  const [allOptionsAttorneys, setAttorneysOptions] = useState([]);\n  const [allOptionsParalegals, setParalegalsOptions] = useState([]);\n  const [selectedAttorney, setSelectedAttorney] = useState(\"\");\n  const [selectedParalegal, setSelectedParalegal] = useState(\"\");\n  const [selectedItemId, setSelectedItemId] = useState(\"\");\n  const [popupTitle, setPopupTitle] = useState(\"\");\n  const [popupMessage, setPopupMessage] = useState(\"\");\n  const [popupIcon, setPopupIcon] = useState();\n  const [popupType, setPopupType] = useState();\n  const [showMessage, setShowMessage] = useState(false);\n  useEffect(() => {\n    // Notice this method notifies the monday platform that user gains a first value in an app.\n    // Read more about it here: https://developer.monday.com/apps/docs/mondayexecute#value-created-for-user/\n    //monday.execute(\"valueCreatedForUser\");\n    // TODO: set up event listeners, Here`s an example, read more here: https://developer.monday.com/apps/docs/mondaylisten/\n    monday.listen(\"context\", res => {\n      if (res.data && res.data.itemIds && res.data.itemIds.length > 0) {\n        setSelectedItemId(res.data.itemIds[0]);\n        console.log(res.data.itemIds[0]);\n      } else console.log(res.data);\n    });\n  }, []);\n\n  function createSubtasks() {\n    if (selectedAttorney && selectedParalegal && selectedItemId) {\n      const url = 'https://hooks.zapier.com/hooks/catch/3411101/3bi5klk/';\n      const data = {\n        selectedAttorney: selectedAttorney,\n        selectedParalegal: selectedParalegal,\n        selectedItemId: selectedItemId\n      };\n      console.log(\"Sending ->\" + JSON.stringify(data));\n\n      (async () => {\n        try {\n          const response = await fetch(url, {\n            method: \"POST\",\n            body: JSON.stringify(data)\n          });\n          const body = await response.text();\n          console.log(body);\n          setPopupTitle(\"Create Subtasks\");\n          setPopupMessage(\"Finished creating subtasks!\");\n          setPopupIcon(\"ThumbsUp\");\n          setPopupType(AttentionBox.types.SUCCESS);\n          setShowMessage(true);\n        } catch (error) {\n          console.error(error);\n          alert(\"Error ->\" + error);\n        }\n      })();\n    }\n  }\n\n  function attorneyChanged(item) {\n    setSelectedAttorney(item.value);\n  }\n\n  function paralegalChanged(item) {\n    setSelectedParalegal(item.value);\n  }\n\n  function hideMessage() {\n    setShowMessage(false);\n  }\n\n  monday.api(`\n  query {\n    teams {\n        name,\n        users {\n            name\n        }\n    }\n}\n  `).then(res => {\n    let newOptionsAttorneys = [];\n    let newOptionsParalegals = [];\n\n    for (let team of res.data.teams) {\n      if (team.name.toString().trim().toLowerCase() === \"attorneys\") {\n        for (let user of team.users) {\n          newOptionsAttorneys.push({\n            value: user.name,\n            label: user.name\n          });\n        }\n      } else if (team.name.toString().trim().toLowerCase() === \"paralegals\") {\n        for (let user of team.users) {\n          newOptionsParalegals.push({\n            value: user.name,\n            label: user.name\n          });\n        }\n      }\n    }\n\n    setAttorneysOptions(newOptionsAttorneys);\n    setParalegalsOptions(newOptionsParalegals);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Dropdown, {\n        onChange: attorneyChanged,\n        placeholder: \"Please Select an Attorney\",\n        options: allOptionsAttorneys,\n        className: \"dropdown-select-member\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Dropdown, {\n        onChange: paralegalChanged,\n        placeholder: \"Please Select a Paralegal\",\n        options: allOptionsParalegals,\n        className: \"dropdown-select-member\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        className: \"create-subtasks\",\n        onClick: createSubtasks,\n        children: \"Generate Tasks\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Popup, {\n      title: popupTitle,\n      message: popupMessage,\n      popupType: popupType,\n      popupIcon: popupIcon,\n      showMessage: showMessage,\n      hideMessage: hideMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"VYe3nM5niPipy4SbTdt7Bo0dUoM=\");\n\n_c2 = App;\nexport default App;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Popup\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useState","useEffect","mondaySdk","Dropdown","Button","AttentionBox","ThumbsUp","Alert","monday","Popup","props","mockOnClose","hideMessage","iconType","popupIcon","showMessage","message","title","popupType","App","allOptionsAttorneys","setAttorneysOptions","allOptionsParalegals","setParalegalsOptions","selectedAttorney","setSelectedAttorney","selectedParalegal","setSelectedParalegal","selectedItemId","setSelectedItemId","popupTitle","setPopupTitle","popupMessage","setPopupMessage","setPopupIcon","setPopupType","setShowMessage","listen","res","data","itemIds","length","console","log","createSubtasks","url","JSON","stringify","response","fetch","method","body","text","types","SUCCESS","error","alert","attorneyChanged","item","value","paralegalChanged","api","then","newOptionsAttorneys","newOptionsParalegals","team","teams","name","toString","trim","toLowerCase","user","users","push","label"],"sources":["/home/user/projects/node/live_03/quickstart-react/src/App.js"],"sourcesContent":["import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport mondaySdk from \"monday-sdk-js\";\nimport \"monday-ui-react-core/dist/main.css\";\n\n\n\n//Explore more Monday React Components here: https://style.monday.com/\nimport { Dropdown, Button, AttentionBox } from \"monday-ui-react-core\";\nimport { ThumbsUp, Alert } from \"monday-ui-react-core/icons\";\n\n// Usage of mondaySDK example, for more information visit here: https://developer.monday.com/apps/docs/introduction-to-the-sdk/\nconst monday = mondaySdk();\nconst Popup = (props) => {  \n  function mockOnClose() {\n    props.hideMessage();\n  };\n//AttentionBox.types.DANGER\n  const iconType = Alert;\n  if (props.popupIcon === \"ThumbsUp\")\n    iconType = ThumbsUp;\n  return (\n    props.showMessage &&\n      <AttentionBox\n        className=\"monday-storybook-attention-box_box\"\n        text={props.message}\n        title={props.title}\n        type={props.popupType}\n        onClose={mockOnClose}\n        icon={iconType}\n      />\n  );\n}\n\nconst App = () => {\n  const [allOptionsAttorneys, setAttorneysOptions] = useState([]);\n  const [allOptionsParalegals, setParalegalsOptions] = useState([]);\n  const [selectedAttorney, setSelectedAttorney] = useState(\"\");\n  const [selectedParalegal, setSelectedParalegal] = useState(\"\");\n  const [selectedItemId, setSelectedItemId] = useState(\"\");\n  const [popupTitle, setPopupTitle] = useState(\"\");\n  const [popupMessage, setPopupMessage] = useState(\"\");\n  const [popupIcon, setPopupIcon] = useState();\n  const [popupType, setPopupType] = useState();\n  const [showMessage, setShowMessage] = useState(false);\n\n  \n  \n  useEffect(() => {\n    // Notice this method notifies the monday platform that user gains a first value in an app.\n    // Read more about it here: https://developer.monday.com/apps/docs/mondayexecute#value-created-for-user/\n    //monday.execute(\"valueCreatedForUser\");\n\n    // TODO: set up event listeners, Here`s an example, read more here: https://developer.monday.com/apps/docs/mondaylisten/\n    monday.listen(\"context\", (res) => {\n      if (res.data && res.data.itemIds && res.data.itemIds.length > 0){\n        setSelectedItemId(res.data.itemIds[0]);\n        console.log(res.data.itemIds[0]);\n      }\n      else\n        console.log(res.data);\n    });\n  }, []);\n\n  function createSubtasks(){\n    if (selectedAttorney && selectedParalegal && selectedItemId){\n      const url = 'https://hooks.zapier.com/hooks/catch/3411101/3bi5klk/';\n      const data = {\n        selectedAttorney: selectedAttorney,\n        selectedParalegal: selectedParalegal,\n        selectedItemId: selectedItemId\n      };\n      console.log(\"Sending ->\" + JSON.stringify(data));\n      \n      (async () => {\n        try {\n            const response = await fetch(url, {\n              method: \"POST\",\n              body: JSON.stringify(data)\n            });\n            const body = await response.text();\n            console.log(body);\n            setPopupTitle(\"Create Subtasks\");\n            setPopupMessage(\"Finished creating subtasks!\");\n            setPopupIcon(\"ThumbsUp\");\n            setPopupType(AttentionBox.types.SUCCESS);\n            setShowMessage(true);\n        } catch (error) {\n            console.error(error);\n            alert(\"Error ->\" + error);\n        }\n      })();      \n    }      \n  }\n\n  function attorneyChanged(item){\n    setSelectedAttorney(item.value);\n  }\n\n  function paralegalChanged(item){\n    setSelectedParalegal(item.value);\n  }\n\n  function hideMessage(){\n    setShowMessage(false);\n  }\n\n  monday.api(`\n  query {\n    teams {\n        name,\n        users {\n            name\n        }\n    }\n}\n  `).then(res => {\n    let newOptionsAttorneys = [];\n    let newOptionsParalegals = [];\n    for (let team of res.data.teams){\n      if (team.name.toString().trim().toLowerCase() === \"attorneys\"){\n        for (let user of team.users){\n          newOptionsAttorneys.push({value: user.name, label: user.name});\n        }\n      }\n      else if (team.name.toString().trim().toLowerCase() === \"paralegals\"){\n        for (let user of team.users){\n          newOptionsParalegals.push({value: user.name, label: user.name});\n        }\n      }\n    }\n    setAttorneysOptions(newOptionsAttorneys);\n    setParalegalsOptions(newOptionsParalegals);\n  });\n\n  return (\n    <div className=\"App\">\n      <div>\n        <Dropdown onChange={attorneyChanged} placeholder=\"Please Select an Attorney\" options={allOptionsAttorneys} className=\"dropdown-select-member\" />\n      </div>\n      <div>\n        <Dropdown onChange={paralegalChanged} placeholder=\"Please Select a Paralegal\" options={allOptionsParalegals} className=\"dropdown-select-member\" />\n      </div>      \n      <div>\n        <Button className=\"create-subtasks\" onClick={createSubtasks}>Generate Tasks</Button>\n      </div>\n      <Popup title={popupTitle} message={popupMessage} popupType={popupType} popupIcon={popupIcon} showMessage={showMessage} hideMessage={hideMessage}></Popup>\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}