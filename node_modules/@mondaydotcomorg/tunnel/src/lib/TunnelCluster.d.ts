import net from 'node:net';
import { Subject } from 'rxjs';
import { Logger } from 'pino';
import { TunnelInfo } from './types';
export interface TunnelRequestInfo {
    method: string;
    path: string;
}
export interface TunnelClusterOptions extends TunnelInfo {
    logger?: Logger;
}
export declare class TunnelCluster {
    readonly opts: TunnelClusterOptions;
    $open: Subject<{
        tunnelId: string;
        socket: net.Socket;
    }>;
    $error: Subject<Error>;
    $dead: Subject<{
        tunnelId: string;
    }>;
    $request: Subject<TunnelRequestInfo>;
    logger?: Logger;
    get remoteHostOrIp(): string | undefined;
    get localHost(): string;
    readonly localProtocol = "http";
    constructor(opts: TunnelClusterOptions);
    open(): Promise<unknown>;
    private connLocal;
    private static getRandomTunnelId;
}
